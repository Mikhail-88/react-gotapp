(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(68)},50:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),l=a(2),i=a(3),s=a(5),u=a(4),m=a(6),h=a(69),f=a(70),p=a(71),d=a(21),v=a(22),b=a(12);function E(){var e=Object(d.a)(["\n    display: flex;\n    margin: 0;\n    align-items: center;\n    color: #fff;\n    list-style-type: none;\n    li {\n        margin-right: 20px;\n        font-size: 18px;\n    }\n"]);return E=function(){return e},e}function g(){var e=Object(d.a)(["\n    font-size: 24px;\n    color: #fff;\n    margin: 0;\n"]);return g=function(){return e},e}function y(){var e=Object(d.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 80px;\n"]);return y=function(){return e},e}var O=v.a.div(y()),j=v.a.h3(g()),k=v.a.ul(E()),w=function(){return r.a.createElement(O,null,r.a.createElement(j,null,r.a.createElement(b.b,{to:"/"},"Game of Thrones DB")),r.a.createElement(k,null,r.a.createElement("li",null,r.a.createElement(b.b,{to:"/characters/"},"Characters")),r.a.createElement("li",null,r.a.createElement(b.b,{to:"/houses/"},"Houses")),r.a.createElement("li",null,r.a.createElement(b.b,{to:"/books/"},"Books"))))},C=a(72),x=(a(50),a(9)),S=a.n(x),D=a(18),I=function(){function e(){var t=this;Object(l.a)(this,e),this.getResource=function(){var e=Object(D.a)(S.a.mark(function e(a){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Error from ".concat(a,", status: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this.getAllCharacters=Object(D.a)(S.a.mark(function e(){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/characters?page=5&pageSize=10");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformCharacter));case 4:case"end":return e.stop()}},e,this)})),this.getCharacter=function(){var e=Object(D.a)(S.a.mark(function e(a){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/characters/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformCharacter(n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this.getAllBooks=Object(D.a)(S.a.mark(function e(){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformBook));case 4:case"end":return e.stop()}},e,this)})),this.getBook=function(){var e=Object(D.a)(S.a.mark(function e(a){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformBook(n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this.getAllHouses=Object(D.a)(S.a.mark(function e(){var a;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses/");case 2:return a=e.sent,e.abrupt("return",a.map(t._transformHouse));case 4:case"end":return e.stop()}},e,this)})),this.getHouse=function(){var e=Object(D.a)(S.a.mark(function e(a){var n;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformHouse(n));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this._apiBase="https://www.anapioficeandfire.com/api"}return Object(i.a)(e,[{key:"_transformCharacter",value:function(e){return{name:e.name,gender:e.gender,born:e.born,died:e.died,culture:e.culture,id:e.url.replace(/\D/g,"")}}},{key:"_transformHouse",value:function(e){return{name:e.name,region:e.region,words:e.words,founded:e.founded,coatOfArms:e.coatOfArms,id:e.url.replace(/\D/g,"")}}},{key:"_transformBook",value:function(e){return{name:e.name,numberOfPages:e.numberOfPages,publiser:e.publiser,released:e.released,id:e.url.replace(/\D/g,"")}}}]),e}(),N=(a(54),function(){return r.a.createElement("div",{className:"loadingio-spinner-spin-1kcfyr334q1"},r.a.createElement("div",{className:"ldio-0qyrhlsmw4yp"},r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null))))}),A=(a(56),function(){return r.a.createElement("div",{className:"errorBlock"},r.a.createElement("img",{src:"/react-gotapp/img/says-Daenerys.jpg",alt:"error"}),r.a.createElement("span",{className:"errorText"},"Something goes wrong"))}),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).gotService=new I,a.state={character:{},isLoading:!0,error:!1},a.onError=function(){a.setState({error:!0,isLoading:!1})},a.onCharacterLoaded=function(e){a.setState({character:e,isLoading:!1})},a.onChangeCharacter=function(){a.setState({isLoading:!0}),a.updateCharacter()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.updateCharacter()}},{key:"updateCharacter",value:function(){var e=this,t=Math.floor(140*Math.random()+25);this.gotService.getCharacter(t).then(function(t){return e.onCharacterLoaded(t)}).catch(this.onError)}},{key:"render",value:function(){var e=this.state,t=e.character,a=e.isLoading,n=e.error&&r.a.createElement(A,null),c=a&&r.a.createElement(N,null);return r.a.createElement("div",{className:"random-block rounded"},r.a.createElement("h4",null,"Random Character"),n||c||r.a.createElement(B,{character:t}),r.a.createElement(C.a,{outline:!0,color:"info",onClick:this.onChangeCharacter},"Next character"))}}]),t}(n.Component),B=function(e){var t=e.character,a=t.name,n=t.gender,c=t.born,o=t.died,l=t.culture;return r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Name"),r.a.createElement("span",null,a||"no data")),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Gender "),r.a.createElement("span",null,n||"no data")),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Born "),r.a.createElement("span",null,c||"no data")),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Died "),r.a.createElement("span",null,o||"no data")),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Culture "),r.a.createElement("span",null,l||"no data")))},_=L,R=(a(58),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={itemList:null,error:!1},a.onError=function(){a.setState({error:!0,itemList:null})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getData)().then(function(t){return e.setState({itemList:t})}).catch(this.onError)}},{key:"componentDidCatch",value:function(){this.setState({itemList:null,error:!0})}},{key:"renderListOfItems",value:function(e){var t=this.props,a=t.onItemSelected,n=t.renderItem;return e.map(function(e){var t=n(e);return r.a.createElement("li",{className:"list-group-item",key:e.id},t,r.a.createElement(C.a,{color:"info",onClick:function(){return a(e.id)}},"Details"))})}},{key:"render",value:function(){var e=this.state,t=e.itemList,a=e.error&&r.a.createElement(A,null);if(!t)return r.a.createElement(N,null);var n=this.renderListOfItems(t);return r.a.createElement("ul",{className:"item-list list-group characters-list"},a||n)}}]),t}(n.Component)),H=a(16),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).gotService=new I,a.state={error:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement(A,null):r.a.createElement(R,{onItemSelected:function(t){e.props.history.push(t)},getData:this.gotService.getAllCharacters,renderItem:function(e){return e.name}})}}]),t}(n.Component),P=Object(H.e)(M),z=(a(60),function(e){var t=e.item,a=e.field,n=e.label;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},n),r.a.createElement("span",null,t[a]||"no data"))}),G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={item:null,isLoading:!0,error:!1},a.onDetailsLoaded=function(e){a.setState({item:e,isLoading:!1})},a.onError=function(){a.setState({error:!0,item:null})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"componentDidUpdate",value:function(e,t){e.itemId!==this.props.itemId&&this.updateItem()}},{key:"updateItem",value:function(){var e=this,t=this.props,a=t.itemId,n=t.getData;a&&(this.setState({isLoading:!0}),n(a).then(function(t){return e.onDetailsLoaded(t)}).catch(this.onError))}},{key:"render",value:function(){var e=this,t=this.state,a=t.item,n=t.isLoading,c=t.error&&r.a.createElement(A,null),o=n&&r.a.createElement(N,null);return r.a.createElement("div",{className:"char-details rounded"},c||o||r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,a.name||"no data"),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.Children.map(this.props.children,function(e){return r.a.cloneElement(e,{item:a})})),r.a.createElement(C.a,{color:"info",onClick:function(){return e.props.history.goBack()}},"Back")))}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).gotService=new I,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(G,{itemId:this.props.characterId,getData:this.gotService.getCharacter,history:this.props.history},r.a.createElement(z,{field:"gender",label:"Gender"}),r.a.createElement(z,{field:"born",label:"Born"}),r.a.createElement(z,{field:"died",label:"Died"}),r.a.createElement(z,{field:"culture",label:"Culture"}))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).gotService=new I,a.state={error:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement(A,null):r.a.createElement(R,{onItemSelected:function(t){e.props.history.push(t)},getData:this.gotService.getAllHouses,renderItem:function(e){return e.name}})}}]),t}(n.Component),J=Object(H.e)(F),T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).gotService=new I,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(G,{itemId:this.props.houseId,getData:this.gotService.getHouse,history:this.props.history},r.a.createElement(z,{field:"region",label:"Region"}),r.a.createElement(z,{field:"words",label:"Words"}),r.a.createElement(z,{field:"founded",label:"Founded"}),r.a.createElement(z,{field:"coatOfArms",label:"Coat Of Arms"}))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).gotService=new I,a.state={error:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this;return this.state.error?r.a.createElement(A,null):r.a.createElement(R,{onItemSelected:function(t){e.props.history.push(t)},getData:this.gotService.getAllBooks,renderItem:function(e){return e.name}})}}]),t}(n.Component),W=Object(H.e)(U),K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).gotService=new I,a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(G,{itemId:this.props.bookId,getData:this.gotService.getBook,history:this.props.history},r.a.createElement(z,{field:"numberOfPages",label:"Number Of Pages"}),r.a.createElement(z,{field:"publiser",label:"Publiser"}),r.a.createElement(z,{field:"released",label:"Released"}))}}]),t}(n.Component),Q=(a(62),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?r.a.createElement(A,null):r.a.createElement(b.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(h.a,null,r.a.createElement(w,null)),r.a.createElement(h.a,null,r.a.createElement(f.a,null,r.a.createElement(p.a,{lg:{size:5,offset:0}},r.a.createElement(_,null))),r.a.createElement(H.a,{path:"/characters",component:P,exact:!0}),r.a.createElement(H.a,{path:"/characters/:id",render:function(e){var t=e.match,a=e.history;return r.a.createElement(q,{characterId:t.params.id,history:a})}}),r.a.createElement(H.a,{path:"/houses",component:J,exact:!0}),r.a.createElement(H.a,{path:"/houses/:id",render:function(e){var t=e.match,a=e.history;return r.a.createElement(T,{houseId:t.params.id,history:a})}}),r.a.createElement(H.a,{path:"/books",component:W,exact:!0}),r.a.createElement(H.a,{path:"/books/:id",render:function(e){var t=e.match,a=e.history;return r.a.createElement(K,{bookId:t.params.id,history:a})}}))))}}]),t}(n.Component));a(64),a(66);o.a.render(r.a.createElement(Q,null),document.getElementById("root"))}},[[40,2,1]]]);
//# sourceMappingURL=main.7bdbb9d6.chunk.js.map